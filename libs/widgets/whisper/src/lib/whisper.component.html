<lib-widget [host]="host()">
  <form>
    <div class="group upload-button">
      <label for="whisper" class="button">Upload audio</label>
      <input id="whisper" type="file" (change)="filePicked($event)" accept="audio/*" />
    </div>
    <div class="group record-button">
      <button type="button" (click)="toggleRecord()">
        {{ !isRecording() ? 'Record audio' : 'Stop recording' }}
      </button>
      <canvas #visualizer class="visualizer"></canvas>
    </div>
  </form>

  @if (info()) {
    <div class="info-box">
      <p>{{ info() }}</p>
    </div>
  }

  @if (transcription()) {
    <div class="info-box">
      <h2>Result</h2>
      <p>{{ transcription() }}</p>
    </div>
  }

  @if (isProcessing()) {
    <div class="info-box">
      <p>Processing...</p>
    </div>
  }
</lib-widget>
